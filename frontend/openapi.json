{
  "openapi": "3.1.0",
  "info": {
    "title": "ZeroQuant Trading API",
    "description": "\n# ZeroQuant 트레이딩 봇 REST API\n\n전략 관리, 백테스트, 포트폴리오 분석을 위한 REST API입니다.\n\n## 주요 기능\n\n- **전략 관리**: 트레이딩 전략 생성, 조회, 시작/중지\n- **백테스트**: 과거 데이터 기반 전략 성과 분석\n- **포트폴리오**: 실시간 포트폴리오 상태 조회\n- **시장 데이터**: 실시간 시세 및 차트 데이터\n- **모니터링**: 에러 추적 및 시스템 상태 모니터링\n- **스크리닝**: 종목 스크리닝 및 필터링\n- **ML**: 머신러닝 모델 훈련 및 배포\n\n## 인증\n\n대부분의 엔드포인트는 JWT Bearer 토큰 인증이 필요합니다.\n`Authorization: Bearer <token>` 헤더를 포함하세요.\n\n## 심볼 동기화\n\n- **KRX**: `POST /api/v1/dataset/sync/krx` - 한국 거래소 심볼\n- **EODData**: `POST /api/v1/dataset/sync/eod` - 해외 거래소 심볼\n",
    "contact": {
      "name": "ZeroQuant Team",
      "url": "https://github.com/user/zeroquant"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "0.4.4"
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "로컬 개발 서버"
    }
  ],
  "paths": {
    "/api/v1/monitoring/errors": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "최근 에러 목록 조회.",
        "description": "GET /api/v1/monitoring/errors",
        "operationId": "list_errors",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "조회할 최대 에러 수 (기본값: 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "severity",
            "in": "query",
            "description": "심각도 필터 (warning, error, critical)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "카테고리 필터",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "에러 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorsResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "monitoring"
        ],
        "summary": "에러 히스토리 삭제.",
        "description": "DELETE /api/v1/monitoring/errors",
        "operationId": "clear_errors",
        "responses": {
          "200": {
            "description": "히스토리 삭제 완료"
          }
        }
      }
    },
    "/api/v1/monitoring/errors/critical": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Critical 에러만 조회.",
        "description": "GET /api/v1/monitoring/errors/critical",
        "operationId": "list_critical_errors",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "조회할 최대 에러 수 (기본값: 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Critical 에러 목록",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/monitoring/errors/{id}": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "특정 에러 상세 조회.",
        "description": "GET /api/v1/monitoring/errors/:id",
        "operationId": "get_error_by_id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "에러 ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "에러 상세 정보",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorRecordDto"
                }
              }
            }
          },
          "404": {
            "description": "에러를 찾을 수 없음"
          }
        }
      }
    },
    "/api/v1/monitoring/stats": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "에러 통계 조회.",
        "description": "GET /api/v1/monitoring/stats",
        "operationId": "get_stats",
        "responses": {
          "200": {
            "description": "에러 통계",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/monitoring/stats/reset": {
      "post": {
        "tags": [
          "monitoring"
        ],
        "summary": "에러 통계 초기화.",
        "description": "POST /api/v1/monitoring/stats/reset",
        "operationId": "reset_stats",
        "responses": {
          "200": {
            "description": "통계 초기화 완료"
          }
        }
      }
    },
    "/api/v1/monitoring/summary": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "시스템 요약 정보 (디버깅용).",
        "description": "GET /api/v1/monitoring/summary",
        "operationId": "get_summary",
        "responses": {
          "200": {
            "description": "시스템 모니터링 요약"
          }
        }
      }
    },
    "/api/v1/ranking/7factor/batch": {
      "post": {
        "tags": [
          "ranking"
        ],
        "summary": "POST /api/v1/ranking/7factor/batch - 7Factor 일괄 조회",
        "operationId": "get_seven_factor_batch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SevenFactorBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "7Factor 일괄 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SevenFactorBatchResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 에러"
          }
        }
      }
    },
    "/api/v1/ranking/7factor/{ticker}": {
      "get": {
        "tags": [
          "ranking"
        ],
        "summary": "GET /api/v1/ranking/7factor/{ticker} - 특정 종목의 7Factor 데이터 조회",
        "operationId": "get_seven_factor",
        "parameters": [
          {
            "name": "ticker",
            "in": "path",
            "description": "종목 티커",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "market",
            "in": "query",
            "description": "시장 (기본: KR)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "7Factor 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SevenFactorResponse"
                }
              }
            }
          },
          "404": {
            "description": "종목 없음"
          },
          "500": {
            "description": "서버 에러"
          }
        }
      }
    },
    "/api/v1/ranking/global": {
      "post": {
        "tags": [
          "ranking"
        ],
        "summary": "POST /api/v1/ranking/global - 모든 심볼 GlobalScore 계산",
        "operationId": "calculate_global",
        "responses": {
          "200": {
            "description": "계산 완료",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CalculateResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 에러"
          }
        }
      }
    },
    "/api/v1/ranking/top": {
      "get": {
        "tags": [
          "ranking"
        ],
        "summary": "GET /api/v1/ranking/top - 상위 랭킹 조회",
        "operationId": "get_top_ranked",
        "parameters": [
          {
            "name": "market",
            "in": "query",
            "description": "시장 필터 (KR, US 등)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "grade",
            "in": "query",
            "description": "등급 필터 (BUY, WATCH 등)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "min_score",
            "in": "query",
            "description": "최소 점수",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "반환 개수 (기본 50, 최대 500)",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64"
            }
          },
          {
            "name": "route_state",
            "in": "query",
            "description": "RouteState 필터 (ATTACK, ARMED, WATCH, REST)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "랭킹 목록",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RankingResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 에러"
          }
        }
      }
    },
    "/api/v1/screening": {
      "post": {
        "tags": [
          "screening"
        ],
        "summary": "커스텀 스크리닝 실행",
        "description": "POST /api/v1/screening",
        "operationId": "run_screening",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScreeningRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "스크리닝 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScreeningResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/screening/momentum": {
      "get": {
        "tags": [
          "screening"
        ],
        "summary": "모멘텀 스크리닝 실행",
        "description": "GET /api/v1/screening/momentum",
        "operationId": "run_momentum_screening",
        "parameters": [
          {
            "name": "market",
            "in": "query",
            "description": "시장 필터 (KR, US)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "days",
            "in": "query",
            "description": "조회 기간 (일)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "min_change_pct",
            "in": "query",
            "description": "최소 변동률 (%)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "min_volume_ratio",
            "in": "query",
            "description": "최소 거래량 배율",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "결과 제한",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "모멘텀 스크리닝 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MomentumResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/screening/presets": {
      "get": {
        "tags": [
          "screening"
        ],
        "summary": "프리셋 목록 조회",
        "description": "GET /api/v1/screening/presets",
        "operationId": "list_presets",
        "responses": {
          "200": {
            "description": "프리셋 목록",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PresetsListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/screening/presets/{preset}": {
      "get": {
        "tags": [
          "screening"
        ],
        "summary": "프리셋 스크리닝 실행",
        "description": "GET /api/v1/screening/presets/{preset}",
        "operationId": "run_preset_screening",
        "parameters": [
          {
            "name": "preset",
            "in": "path",
            "description": "프리셋 ID (value, dividend, growth, snowball, large_cap, near_52w_low)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "프리셋 스크리닝 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScreeningResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/signals/by-strategy": {
      "get": {
        "tags": [
          "signals"
        ],
        "summary": "전략별 신호 조회",
        "operationId": "get_signals_by_strategy",
        "parameters": [
          {
            "name": "strategy_id",
            "in": "query",
            "description": "전략 ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "description": "시작 시각 (ISO 8601)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "format": "date-time"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "종료 시각 (ISO 8601)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "format": "date-time"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "최대 결과 개수",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalSearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/signals/by-symbol": {
      "get": {
        "tags": [
          "signals"
        ],
        "summary": "심볼별 신호 조회",
        "operationId": "get_signals_by_symbol",
        "parameters": [
          {
            "name": "symbol",
            "in": "query",
            "description": "심볼 (예: \"005930\")",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "exchange",
            "in": "query",
            "description": "거래소 (예: \"KRX\")",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_time",
            "in": "query",
            "description": "시작 시각 (ISO 8601)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "format": "date-time"
            }
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "종료 시각 (ISO 8601)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ],
              "format": "date-time"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "최대 결과 개수",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalSearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/signals/search": {
      "post": {
        "tags": [
          "signals"
        ],
        "summary": "지표 기반 신호 검색",
        "description": "JSONB 쿼리를 사용하여 특정 지표 조건을 만족하는 신호를 검색합니다.\n\n# 지원 연산자\n- `$gte`: >=\n- `$lte`: <=\n- `$gt`: >\n- `$lt`: <\n- `$eq`: =",
        "operationId": "search_signals",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignalSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "검색 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalSearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/strategies": {
      "get": {
        "tags": [
          "strategies"
        ],
        "summary": "전략 목록 조회.",
        "description": "GET /api/v1/strategies",
        "operationId": "list_strategies",
        "responses": {
          "200": {
            "description": "전략 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategiesListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "간단한 헬스 체크 (liveness probe용).",
        "description": "서버가 응답 가능한 상태인지만 확인합니다.\nGET /health",
        "operationId": "health_check",
        "responses": {
          "200": {
            "description": "서버가 정상 동작 중",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "상세 헬스 체크 (readiness probe용).",
        "description": "모든 의존성(DB, Redis 등)의 상태를 확인합니다.\nGET /health/ready",
        "operationId": "health_ready",
        "responses": {
          "200": {
            "description": "모든 컴포넌트 정상",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          },
          "503": {
            "description": "일부 컴포넌트 장애",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiError": {
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "에러 코드"
          },
          "message": {
            "type": "string",
            "description": "에러 메시지"
          }
        }
      },
      "ApiErrorResponse": {
        "type": "object",
        "description": "통합 API 에러 응답.\n\n모든 API 엔드포인트에서 일관된 에러 형식을 제공합니다.\n\n# 예시\n\n```json\n{\n  \"code\": \"STRATEGY_NOT_FOUND\",\n  \"message\": \"전략을 찾을 수 없습니다: rsi-123\",\n  \"details\": null,\n  \"timestamp\": 1738300800\n}\n```",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "에러 코드 (예: \"DB_ERROR\", \"INVALID_INPUT\", \"NOT_FOUND\")"
          },
          "details": {
            "description": "추가 에러 상세 정보 (선택적)"
          },
          "message": {
            "type": "string",
            "description": "사람이 읽을 수 있는 에러 메시지"
          },
          "method": {
            "type": [
              "string",
              "null"
            ],
            "description": "HTTP 메서드 (GET, POST 등)"
          },
          "path": {
            "type": [
              "string",
              "null"
            ],
            "description": "요청 경로"
          },
          "timestamp": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "에러 발생 타임스탬프 (Unix timestamp, 선택적)"
          }
        }
      },
      "CalculateResponse": {
        "type": "object",
        "description": "GlobalScore 계산 응답",
        "required": [
          "processed",
          "started_at",
          "completed_at"
        ],
        "properties": {
          "completed_at": {
            "type": "string",
            "description": "계산 완료 시간"
          },
          "processed": {
            "type": "integer",
            "format": "int32",
            "description": "처리된 종목 수"
          },
          "started_at": {
            "type": "string",
            "description": "계산 시작 시간"
          }
        }
      },
      "ComponentHealth": {
        "type": "object",
        "description": "개별 컴포넌트 상태.",
        "required": [
          "database",
          "redis",
          "strategy_engine"
        ],
        "properties": {
          "database": {
            "$ref": "#/components/schemas/ComponentStatus",
            "description": "데이터베이스 연결 상태"
          },
          "redis": {
            "$ref": "#/components/schemas/ComponentStatus",
            "description": "Redis 연결 상태"
          },
          "strategy_engine": {
            "$ref": "#/components/schemas/ComponentStatus",
            "description": "전략 엔진 상태"
          }
        }
      },
      "ComponentStatus": {
        "type": "object",
        "description": "컴포넌트 상태.",
        "required": [
          "status"
        ],
        "properties": {
          "message": {
            "type": [
              "string",
              "null"
            ],
            "description": "추가 정보 (선택적)"
          },
          "status": {
            "type": "string",
            "description": "상태 (\"up\" | \"down\" | \"not_configured\")"
          }
        }
      },
      "Country": {
        "type": "string",
        "description": "국가/지역 코드.\n\nISO 3166-1 alpha-2 기반이지만 주요 금융 시장에 맞게 조정됨.",
        "enum": [
          "KR",
          "US",
          "JP",
          "CN",
          "HK",
          "SG",
          "GB",
          "AU",
          "CA",
          "GLOBAL"
        ]
      },
      "ErrorRecordDto": {
        "type": "object",
        "description": "에러 레코드 DTO (API 응답용).",
        "required": [
          "id",
          "timestamp",
          "severity",
          "category",
          "message",
          "location",
          "context"
        ],
        "properties": {
          "backtrace": {
            "type": [
              "string",
              "null"
            ],
            "description": "스택 트레이스 (있는 경우)"
          },
          "category": {
            "type": "string",
            "description": "카테고리"
          },
          "context": {
            "type": "object",
            "description": "상세 컨텍스트",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "entity": {
            "type": [
              "string",
              "null"
            ],
            "description": "관련 엔티티 (티커, 주문ID 등)"
          },
          "function": {
            "type": [
              "string",
              "null"
            ],
            "description": "함수명 (있는 경우)"
          },
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "에러 ID",
            "minimum": 0
          },
          "location": {
            "type": "string",
            "description": "발생 위치 (파일:라인)"
          },
          "message": {
            "type": "string",
            "description": "에러 메시지"
          },
          "raw_error": {
            "type": [
              "string",
              "null"
            ],
            "description": "원본 에러"
          },
          "severity": {
            "type": "string",
            "description": "심각도 (warning, error, critical)"
          },
          "timestamp": {
            "type": "string",
            "description": "발생 시간 (ISO 8601)"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "description": "에러 응답",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ErrorsResponse": {
        "type": "object",
        "description": "에러 목록 응답.",
        "required": [
          "errors",
          "count",
          "total_in_history"
        ],
        "properties": {
          "count": {
            "type": "integer",
            "description": "조회된 에러 수",
            "minimum": 0
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorRecordDto"
            },
            "description": "에러 목록"
          },
          "total_in_history": {
            "type": "integer",
            "description": "총 에러 수 (히스토리 내)",
            "minimum": 0
          }
        }
      },
      "FilterInfo": {
        "type": "object",
        "description": "필터 정보",
        "required": [
          "limit"
        ],
        "properties": {
          "grade": {
            "type": [
              "string",
              "null"
            ]
          },
          "limit": {
            "type": "integer",
            "format": "int64"
          },
          "market": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_score": {
            "type": [
              "string",
              "null"
            ]
          },
          "route_state": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "HealthResponse": {
        "type": "object",
        "description": "헬스 체크 응답 구조체.",
        "required": [
          "status",
          "version",
          "uptime_secs",
          "timestamp",
          "components"
        ],
        "properties": {
          "components": {
            "$ref": "#/components/schemas/ComponentHealth",
            "description": "개별 컴포넌트 상태"
          },
          "status": {
            "type": "string",
            "description": "전체 서비스 상태 (\"healthy\" | \"degraded\" | \"unhealthy\")"
          },
          "timestamp": {
            "type": "string",
            "description": "현재 시간 (ISO 8601)"
          },
          "uptime_secs": {
            "type": "integer",
            "format": "int64",
            "description": "서버 업타임(초)"
          },
          "version": {
            "type": "string",
            "description": "API 버전"
          }
        }
      },
      "MarketType": {
        "type": "string",
        "description": "시장 유형 분류 (정규화).\n\nUsStock, KrStock 등은 향후 Stock + Country 조합으로 대체됩니다.",
        "enum": [
          "crypto",
          "stock",
          "forex",
          "futures",
          "index",
          "us_stock",
          "kr_stock"
        ]
      },
      "MomentumResponse": {
        "type": "object",
        "description": "모멘텀 스크리닝 결과 응답",
        "required": [
          "total",
          "days",
          "min_change_pct",
          "results"
        ],
        "properties": {
          "days": {
            "type": "integer",
            "format": "int32"
          },
          "min_change_pct": {
            "type": "string"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MomentumResultDto"
            }
          },
          "total": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "MomentumResultDto": {
        "type": "object",
        "description": "모멘텀 결과 DTO",
        "required": [
          "symbol",
          "name",
          "market",
          "start_price",
          "end_price",
          "change_pct",
          "avg_volume",
          "current_volume",
          "volume_ratio"
        ],
        "properties": {
          "avg_volume": {
            "type": "string"
          },
          "change_pct": {
            "type": "string"
          },
          "current_volume": {
            "type": "string"
          },
          "end_price": {
            "type": "string"
          },
          "exchange": {
            "type": [
              "string",
              "null"
            ]
          },
          "market": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "start_price": {
            "type": "string"
          },
          "symbol": {
            "type": "string"
          },
          "volume_ratio": {
            "type": "string"
          }
        }
      },
      "OrderStatusType": {
        "type": "string",
        "description": "주문 상태 유형.",
        "enum": [
          "pending",
          "open",
          "partially_filled",
          "filled",
          "cancelled",
          "rejected",
          "expired"
        ]
      },
      "OrderType": {
        "type": "string",
        "description": "주문 유형.",
        "enum": [
          "market",
          "limit",
          "stop_loss",
          "stop_loss_limit",
          "take_profit",
          "take_profit_limit",
          "trailing_stop"
        ]
      },
      "PresetsListResponse": {
        "type": "object",
        "description": "프리셋 목록 응답",
        "required": [
          "presets"
        ],
        "properties": {
          "presets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScreeningPreset"
            }
          }
        }
      },
      "RankedSymbol": {
        "type": "object",
        "description": "GlobalScore 랭킹 응답용 (JOIN with symbol_info)",
        "required": [
          "ticker",
          "name",
          "market",
          "overall_score",
          "grade",
          "component_scores",
          "calculated_at"
        ],
        "properties": {
          "calculated_at": {
            "type": "string",
            "format": "date-time"
          },
          "component_scores": {
            "$ref": "#/components/schemas/Value"
          },
          "confidence": {
            "type": [
              "string",
              "null"
            ]
          },
          "exchange": {
            "type": [
              "string",
              "null"
            ]
          },
          "grade": {
            "type": "string"
          },
          "market": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "overall_score": {
            "type": "string",
            "description": "종합 점수 (0-100) - JSON에서 숫자로 직렬화"
          },
          "penalties": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Value"
              }
            ]
          },
          "route_state": {
            "type": [
              "string",
              "null"
            ],
            "description": "RouteState (실시간 계산됨, DB 조회 시 None)"
          },
          "ticker": {
            "type": "string"
          }
        }
      },
      "RankingQuery": {
        "type": "object",
        "description": "랭킹 조회 쿼리",
        "properties": {
          "grade": {
            "type": [
              "string",
              "null"
            ],
            "description": "등급 필터 (BUY, WATCH 등)"
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "반환 개수 (기본 50, 최대 500)"
          },
          "market": {
            "type": [
              "string",
              "null"
            ],
            "description": "시장 필터 (KR, US 등)"
          },
          "min_score": {
            "type": [
              "string",
              "null"
            ],
            "description": "최소 점수"
          },
          "route_state": {
            "type": [
              "string",
              "null"
            ],
            "description": "RouteState 필터 (ATTACK, ARMED, WATCH, REST)"
          }
        }
      },
      "RankingResponse": {
        "type": "object",
        "description": "랭킹 조회 응답",
        "required": [
          "symbols",
          "total",
          "filter"
        ],
        "properties": {
          "filter": {
            "$ref": "#/components/schemas/FilterInfo",
            "description": "필터 정보"
          },
          "symbols": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RankedSymbol"
            },
            "description": "종목 목록"
          },
          "total": {
            "type": "integer",
            "description": "총 개수",
            "minimum": 0
          }
        }
      },
      "RouteState": {
        "type": "string",
        "description": "종목의 매매 단계를 나타내는 5단계 상태.\n\n# 상태 설명\n\n- **Attack**: 진입 적기 - TTM Squeeze 해제 + 모멘텀 상승\n- **Armed**: 대기 준비 - Squeeze 중 + 강한 기본 구조\n- **Wait**: 관찰 중 - 정배열 유지, 저가 상승 추세\n- **Overheat**: 과열 - 급등 후 조정 필요\n- **Neutral**: 중립 - 명확한 신호 없음",
        "enum": [
          "ATTACK",
          "ARMED",
          "WAIT",
          "OVERHEAT",
          "NEUTRAL"
        ]
      },
      "ScreeningPreset": {
        "type": "object",
        "description": "스크리닝 프리셋 정보 (레거시 - 하드코딩 프리셋용)",
        "required": [
          "id",
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "ScreeningRequest": {
        "type": "object",
        "description": "커스텀 스크리닝 요청",
        "properties": {
          "exchange": {
            "type": [
              "string",
              "null"
            ],
            "description": "거래소 필터"
          },
          "filter_route_state": {
            "type": [
              "string",
              "null"
            ]
          },
          "filter_ttm_squeeze": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "market": {
            "type": [
              "string",
              "null"
            ],
            "description": "시장 필터 (KR, US, CRYPTO)"
          },
          "max_debt_ratio": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_distance_from_52w_high": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_dividend_yield": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_market_cap": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_pbr": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_per": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_roa": {
            "type": [
              "string",
              "null"
            ]
          },
          "max_roe": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_breakout_score": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_distance_from_52w_low": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_dividend_yield": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_earnings_growth": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_low_trend": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_market_cap": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_pbr": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_per": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_revenue_growth": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_roa": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_roe": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_ttm_squeeze_cnt": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_vol_quality": {
            "type": [
              "string",
              "null"
            ]
          },
          "min_volume_ratio": {
            "type": [
              "string",
              "null"
            ]
          },
          "offset": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "only_alive_consolidation": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "sector": {
            "type": [
              "string",
              "null"
            ],
            "description": "섹터 필터"
          },
          "sort_by": {
            "type": [
              "string",
              "null"
            ]
          },
          "sort_order": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ScreeningResponse": {
        "type": "object",
        "description": "스크리닝 결과 응답",
        "required": [
          "total",
          "results",
          "filter_summary"
        ],
        "properties": {
          "filter_summary": {
            "type": "string",
            "description": "적용된 필터 요약"
          },
          "macro_risk": {
            "type": [
              "string",
              "null"
            ],
            "description": "매크로 위험도 (옵셔널)"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScreeningResultDto"
            },
            "description": "결과 목록"
          },
          "total": {
            "type": "integer",
            "description": "총 결과 수",
            "minimum": 0
          }
        }
      },
      "ScreeningResultDto": {
        "type": "object",
        "description": "스크리닝 결과 DTO",
        "required": [
          "ticker",
          "name",
          "market"
        ],
        "properties": {
          "bb_width": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "breakout_score": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "confidence": {
            "type": [
              "string",
              "null"
            ]
          },
          "current_price": {
            "type": [
              "string",
              "null"
            ]
          },
          "debt_ratio": {
            "type": [
              "string",
              "null"
            ]
          },
          "dist_ma20": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "distance_from_52w_high": {
            "type": [
              "string",
              "null"
            ]
          },
          "distance_from_52w_low": {
            "type": [
              "string",
              "null"
            ]
          },
          "dividend_yield": {
            "type": [
              "string",
              "null"
            ]
          },
          "earnings_growth_yoy": {
            "type": [
              "string",
              "null"
            ]
          },
          "eps": {
            "type": [
              "string",
              "null"
            ]
          },
          "exchange": {
            "type": [
              "string",
              "null"
            ]
          },
          "grade": {
            "type": [
              "string",
              "null"
            ]
          },
          "low_trend": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "macd": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "MACD 라인 값"
          },
          "macd_cross": {
            "type": [
              "string",
              "null"
            ],
            "description": "크로스 상태 (\"golden\" = 골든크로스, \"dead\" = 데드크로스, null = 없음)"
          },
          "macd_histogram": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "히스토그램 (MACD - Signal)"
          },
          "macd_signal": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "시그널 라인 값"
          },
          "market": {
            "type": "string"
          },
          "market_cap": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "operating_margin": {
            "type": [
              "string",
              "null"
            ]
          },
          "overall_score": {
            "type": [
              "string",
              "null"
            ]
          },
          "pbr": {
            "type": [
              "string",
              "null"
            ]
          },
          "per": {
            "type": [
              "string",
              "null"
            ]
          },
          "range_pos": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "regime": {
            "type": [
              "string",
              "null"
            ]
          },
          "revenue_growth_yoy": {
            "type": [
              "string",
              "null"
            ]
          },
          "roa": {
            "type": [
              "string",
              "null"
            ]
          },
          "roe": {
            "type": [
              "string",
              "null"
            ]
          },
          "route_state": {
            "type": [
              "string",
              "null"
            ]
          },
          "rsi_14": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "sector": {
            "type": [
              "string",
              "null"
            ]
          },
          "sector_rank": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "sector_rs": {
            "type": [
              "string",
              "null"
            ]
          },
          "ticker": {
            "type": "string"
          },
          "trigger_label": {
            "type": [
              "string",
              "null"
            ]
          },
          "trigger_score": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "ttm_squeeze": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "ttm_squeeze_cnt": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32"
          },
          "vol_quality": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "week_52_high": {
            "type": [
              "string",
              "null"
            ]
          },
          "week_52_low": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SevenFactorBatchRequest": {
        "type": "object",
        "description": "7Factor 일괄 조회 요청",
        "required": [
          "tickers"
        ],
        "properties": {
          "market": {
            "type": "string",
            "description": "시장 (기본: KR)"
          },
          "tickers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "티커 목록"
          }
        }
      },
      "SevenFactorBatchResponse": {
        "type": "object",
        "description": "7Factor 일괄 조회 응답",
        "required": [
          "factors",
          "total"
        ],
        "properties": {
          "factors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SevenFactorResponse"
            },
            "description": "7Factor 데이터 목록"
          },
          "total": {
            "type": "integer",
            "description": "총 개수",
            "minimum": 0
          }
        }
      },
      "SevenFactorData": {
        "type": "object",
        "description": "7Factor 데이터",
        "required": [
          "norm_momentum",
          "norm_value",
          "norm_quality",
          "norm_volatility",
          "norm_liquidity",
          "norm_growth",
          "norm_sentiment"
        ],
        "properties": {
          "norm_growth": {
            "type": "string",
            "description": "성장성 (0-100)"
          },
          "norm_liquidity": {
            "type": "string",
            "description": "유동성 (0-100)"
          },
          "norm_momentum": {
            "type": "string",
            "description": "모멘텀 (0-100)"
          },
          "norm_quality": {
            "type": "string",
            "description": "품질 (0-100)"
          },
          "norm_sentiment": {
            "type": "string",
            "description": "시장 심리 (0-100)"
          },
          "norm_value": {
            "type": "string",
            "description": "가치 (0-100)"
          },
          "norm_volatility": {
            "type": "string",
            "description": "변동성 (0-100, 낮은 변동성 = 높은 점수)"
          }
        }
      },
      "SevenFactorQuery": {
        "type": "object",
        "description": "7Factor 조회 쿼리",
        "properties": {
          "market": {
            "type": "string",
            "description": "시장 (기본: KR)"
          }
        }
      },
      "SevenFactorResponse": {
        "type": "object",
        "description": "7Factor 응답용 타입",
        "required": [
          "ticker",
          "name",
          "market",
          "factors",
          "composite_score",
          "calculated_at"
        ],
        "properties": {
          "calculated_at": {
            "type": "string",
            "format": "date-time",
            "description": "계산 시각"
          },
          "composite_score": {
            "type": "string",
            "description": "종합 점수 (0-100) - JSON에서 숫자로 직렬화"
          },
          "factors": {
            "$ref": "#/components/schemas/SevenFactorData",
            "description": "7개 정규화 팩터 (0-100)"
          },
          "global_score": {
            "type": [
              "string",
              "null"
            ],
            "description": "기존 GlobalScore 정보 - JSON에서 숫자로 직렬화"
          },
          "grade": {
            "type": [
              "string",
              "null"
            ]
          },
          "market": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "ticker": {
            "type": "string"
          }
        }
      },
      "Side": {
        "type": "string",
        "description": "주문 방향 (매수 또는 매도).",
        "enum": [
          "buy",
          "sell"
        ]
      },
      "SignalIndicators": {
        "type": "object",
        "description": "신호 생성에 사용된 기술적 지표 값들.",
        "properties": {
          "atr": {
            "type": [
              "string",
              "null"
            ],
            "description": "ATR (Average True Range)"
          },
          "bb_lower": {
            "type": [
              "string",
              "null"
            ],
            "description": "볼린저 밴드 하단"
          },
          "bb_middle": {
            "type": [
              "string",
              "null"
            ],
            "description": "볼린저 밴드 중간"
          },
          "bb_upper": {
            "type": [
              "string",
              "null"
            ],
            "description": "볼린저 밴드 상단"
          },
          "breakout_score": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "돌파 점수"
          },
          "ema_long": {
            "type": [
              "string",
              "null"
            ],
            "description": "EMA (장기)"
          },
          "ema_short": {
            "type": [
              "string",
              "null"
            ],
            "description": "EMA (단기)"
          },
          "macd": {
            "type": [
              "string",
              "null"
            ],
            "description": "MACD"
          },
          "macd_histogram": {
            "type": [
              "string",
              "null"
            ],
            "description": "MACD 히스토그램"
          },
          "macd_signal": {
            "type": [
              "string",
              "null"
            ],
            "description": "MACD 시그널"
          },
          "range_pos": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "박스권 내 위치 (0.0 ~ 1.0)"
          },
          "route_state": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/RouteState",
                "description": "RouteState (매매 단계)"
              }
            ]
          },
          "rsi": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "RSI (14일)"
          },
          "sma_long": {
            "type": [
              "string",
              "null"
            ],
            "description": "SMA (장기)"
          },
          "sma_short": {
            "type": [
              "string",
              "null"
            ],
            "description": "SMA (단기)"
          },
          "squeeze_momentum": {
            "type": [
              "string",
              "null"
            ],
            "description": "Squeeze 모멘텀"
          },
          "squeeze_on": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Squeeze 상태 (압축 중)"
          },
          "vol_quality": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "거래량 품질"
          }
        }
      },
      "SignalMarkerDto": {
        "type": "object",
        "description": "신호 마커 응답 DTO",
        "required": [
          "id",
          "symbol",
          "timestamp",
          "signal_type",
          "price",
          "strength",
          "indicators",
          "reason",
          "strategy_id",
          "strategy_name",
          "executed"
        ],
        "properties": {
          "executed": {
            "type": "boolean",
            "description": "실행 여부"
          },
          "id": {
            "type": "string",
            "description": "신호 ID"
          },
          "indicators": {
            "$ref": "#/components/schemas/SignalIndicators",
            "description": "지표 정보"
          },
          "price": {
            "type": "string",
            "description": "가격"
          },
          "reason": {
            "type": "string",
            "description": "신호 이유"
          },
          "side": {
            "type": [
              "string",
              "null"
            ],
            "description": "방향 (Buy/Sell)"
          },
          "signal_type": {
            "type": "string",
            "description": "신호 유형"
          },
          "strategy_id": {
            "type": "string",
            "description": "전략 ID"
          },
          "strategy_name": {
            "type": "string",
            "description": "전략 이름"
          },
          "strength": {
            "type": "number",
            "format": "double",
            "description": "신호 강도 (0.0 ~ 1.0)"
          },
          "symbol": {
            "type": "string",
            "description": "심볼"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "타임스탬프"
          }
        }
      },
      "SignalSearchRequest": {
        "type": "object",
        "description": "지표 기반 검색 요청",
        "required": [
          "indicator_filter"
        ],
        "properties": {
          "indicator_filter": {
            "$ref": "#/components/schemas/Value",
            "description": "지표 필터 (JSONB 쿼리)\n\n# 예시\n```json\n{\n  \"rsi\": {\"$gte\": 70.0},\n  \"macd\": {\"$gt\": 0}\n}\n```"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "최대 결과 개수 (기본 100, 최대 1000)"
          },
          "signal_type": {
            "type": [
              "string",
              "null"
            ],
            "description": "신호 유형 필터 (선택)"
          }
        }
      },
      "SignalSearchResponse": {
        "type": "object",
        "description": "신호 검색 응답",
        "required": [
          "total",
          "signals"
        ],
        "properties": {
          "signals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SignalMarkerDto"
            },
            "description": "신호 목록"
          },
          "total": {
            "type": "integer",
            "description": "총 결과 수",
            "minimum": 0
          }
        }
      },
      "StatsResponse": {
        "type": "object",
        "description": "에러 통계 응답.",
        "required": [
          "by_severity",
          "by_category",
          "total_count",
          "stats_since"
        ],
        "properties": {
          "by_category": {
            "type": "object",
            "description": "카테고리별 에러 수",
            "additionalProperties": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "by_severity": {
            "type": "object",
            "description": "심각도별 에러 수",
            "additionalProperties": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "last_error_at": {
            "type": [
              "string",
              "null"
            ],
            "description": "마지막 에러 시간"
          },
          "stats_since": {
            "type": "string",
            "description": "통계 시작 시간"
          },
          "total_count": {
            "type": "integer",
            "format": "int64",
            "description": "총 에러 수",
            "minimum": 0
          }
        }
      },
      "StrategiesListResponse": {
        "type": "object",
        "description": "전략 목록 응답.",
        "required": [
          "strategies",
          "total",
          "running"
        ],
        "properties": {
          "running": {
            "type": "integer",
            "description": "실행 중인 전략 수",
            "minimum": 0
          },
          "strategies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StrategyListItem"
            },
            "description": "전략 목록"
          },
          "total": {
            "type": "integer",
            "description": "전체 전략 수",
            "minimum": 0
          }
        }
      },
      "StrategyListItem": {
        "type": "object",
        "description": "전략 목록 항목.",
        "required": [
          "id",
          "strategyType",
          "name",
          "status",
          "market",
          "symbols",
          "timeframe",
          "pnl",
          "winRate",
          "tradesCount",
          "isMultiTimeframe"
        ],
        "properties": {
          "allocatedCapital": {
            "type": [
              "number",
              "null"
            ],
            "format": "double",
            "description": "할당 자본"
          },
          "id": {
            "type": "string",
            "description": "전략 ID"
          },
          "isMultiTimeframe": {
            "type": "boolean",
            "description": "다중 타임프레임 여부"
          },
          "market": {
            "type": "string",
            "description": "시장 (\"KR\", \"US\", \"CRYPTO\")"
          },
          "multiTimeframeConfig": {
            "description": "다중 타임프레임 설정 (NULL이면 단일 TF 전략)"
          },
          "name": {
            "type": "string",
            "description": "전략 이름"
          },
          "pnl": {
            "type": "number",
            "format": "double",
            "description": "손익"
          },
          "riskProfile": {
            "type": [
              "string",
              "null"
            ],
            "description": "리스크 프로필 (conservative, default, aggressive, custom)"
          },
          "status": {
            "type": "string",
            "description": "전략 상태 (\"Running\", \"Stopped\", \"Error\")"
          },
          "strategyType": {
            "type": "string",
            "description": "전략 타입 (예: \"rsi\", \"grid_trading\", \"sma\" 등)"
          },
          "symbols": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "거래 심볼 목록"
          },
          "timeframe": {
            "type": "string",
            "description": "타임프레임 (1m, 5m, 15m, 30m, 1h, 4h, 1d, 1w, 1M)"
          },
          "tradesCount": {
            "type": "integer",
            "format": "int64",
            "description": "거래 횟수",
            "minimum": 0
          },
          "winRate": {
            "type": "number",
            "format": "double",
            "description": "승률"
          }
        }
      },
      "StrategySignalsQuery": {
        "type": "object",
        "description": "전략별 신호 조회 요청",
        "required": [
          "strategy_id"
        ],
        "properties": {
          "end_time": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "종료 시각 (ISO 8601)"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "최대 결과 개수"
          },
          "start_time": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "시작 시각 (ISO 8601)"
          },
          "strategy_id": {
            "type": "string",
            "description": "전략 ID"
          }
        }
      },
      "Symbol": {
        "type": "object",
        "description": "거래 가능한 상품을 나타내는 트레이딩 심볼.\n\n심볼은 기준 자산, 호가 자산, 시장 유형, 국가로 구성됩니다.\n예: 암호화폐의 BTC/USDT, 한국 주식의 005930/KRW.",
        "required": [
          "base",
          "quote",
          "market_type"
        ],
        "properties": {
          "base": {
            "type": "string",
            "description": "기준 자산 (예: BTC, 005930, AAPL, EUR)"
          },
          "country": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Country",
                "description": "국가/지역 (주식 시장에서 사용, 암호화폐는 Global)"
              }
            ]
          },
          "exchange_symbol": {
            "type": [
              "string",
              "null"
            ],
            "description": "거래소별 심볼 형식 (선택)"
          },
          "market_type": {
            "$ref": "#/components/schemas/MarketType",
            "description": "시장 유형"
          },
          "quote": {
            "type": "string",
            "description": "호가 자산 (예: USDT, KRW, USD, JPY)"
          }
        }
      },
      "SymbolSignalsQuery": {
        "type": "object",
        "description": "심볼별 신호 조회 요청",
        "required": [
          "symbol",
          "exchange"
        ],
        "properties": {
          "end_time": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "종료 시각 (ISO 8601)"
          },
          "exchange": {
            "type": "string",
            "description": "거래소 (예: \"KRX\")"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "최대 결과 개수"
          },
          "start_time": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "시작 시각 (ISO 8601)"
          },
          "symbol": {
            "type": "string",
            "description": "심볼 (예: \"005930\")"
          }
        }
      },
      "TimeInForce": {
        "type": "string",
        "description": "주문 유효 기간.",
        "enum": [
          "GTC",
          "IOC",
          "FOK",
          "GTD"
        ]
      },
      "Value": {}
    }
  },
  "tags": [
    {
      "name": "health",
      "description": "헬스 체크 - 서버 상태 확인"
    },
    {
      "name": "strategies",
      "description": "전략 관리 - 트레이딩 전략 CRUD"
    },
    {
      "name": "orders",
      "description": "주문 관리 - 주문 생성/조회/취소"
    },
    {
      "name": "positions",
      "description": "포지션 - 현재 보유 포지션 조회"
    },
    {
      "name": "portfolio",
      "description": "포트폴리오 - 계좌 잔고 및 요약"
    },
    {
      "name": "backtest",
      "description": "백테스트 - 전략 과거 성과 분석"
    },
    {
      "name": "analytics",
      "description": "분석 - 성과 지표 및 차트"
    },
    {
      "name": "patterns",
      "description": "패턴 - 캔들/차트 패턴 인식"
    },
    {
      "name": "market",
      "description": "시장 - 시장 상태 및 시세"
    },
    {
      "name": "credentials",
      "description": "자격증명 - API 키 관리"
    },
    {
      "name": "notifications",
      "description": "알림 - 텔레그램 등 알림 설정"
    },
    {
      "name": "ml",
      "description": "ML - 머신러닝 모델 훈련"
    },
    {
      "name": "dataset",
      "description": "데이터셋 - 심볼 동기화 및 데이터 관리"
    },
    {
      "name": "journal",
      "description": "매매일지 - 체결 내역 및 손익 분석"
    },
    {
      "name": "screening",
      "description": "스크리닝 - 종목 필터링"
    },
    {
      "name": "simulation",
      "description": "시뮬레이션 - 모의 거래"
    },
    {
      "name": "monitoring",
      "description": "모니터링 - 에러 추적 및 시스템 상태"
    },
    {
      "name": "signals",
      "description": "신호 마커 - 백테스트/실거래 신호 조회 및 검색"
    },
    {
      "name": "ranking",
      "description": "랭킹 - GlobalScore 기반 종목 랭킹 및 7Factor 분석"
    }
  ]
}
